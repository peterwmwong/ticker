<link rel="import" href="../../bower_components/core-drawer-panel/core-drawer-panel.html"/><link rel="import" href="../../bower_components/core-header-panel/core-header-panel.html"/><link rel="import" href="../../bower_components/core-icons/core-icons.html"/><link rel="import" href="../../bower_components/core-toolbar/core-toolbar.html"/><link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html"/><link rel="import" href="../../bower_components/paper-button/paper-button.html"/><link rel="import" href="../../bower_components/paper-fab/paper-fab.html"/><link rel="import" href="./cards/ticker-github-events-card.html"/><link rel="import" href="./ticker-search.html"/><link rel="import" href="./ticker-session.html"/><polymer-element name="ticker-app"><template><link rel="stylesheet" href="ticker-app.css"/><ticker-session id="session"></ticker-session><template if="{{!$.session.data.user}}"><div style="padding-top: 84px" class="c-bg-brand-primary-light l-padding-h4"><div class="c-white t-normal t-font-size-32">ticker<span class="t-font-size-16">&nbsp; commits. pull requests. comments. tweets. forum posts.</span></div><paper-button icon="github:octoface" label="Login with GitHub" on-click="{{onLogin}}" class="c-bg-white c-brand-primary-light l-margin-v6 l-padding-h2 l-padding-t1 t-normal t-font-size-16"></paper-button></div></template><core-drawer-panel id="drawerPanel" disableSwipe="[[DRAWER_SWIPE_DISABLED]]" drawerWidth="320px" narrow="{{narrow}}" hidden?="{{!$.session.data.user}}"><core-header-panel drawer="drawer" mode="seamed"><core-toolbar class="{{!narrow &amp;&amp; &quot;medium-tall&quot;}} c-white"><div class="bottom l-margin-l2 l-padding-t2 t-font-size-32 t-normal">ticker</div></core-toolbar><div class="drawer"><div on-tap="{{onSelectSearch}}" class="drawer__item {{ isSearching &amp;&amp; &quot;is-selected&quot; }}                  u-border-b1 c-border-gray-lighter"><core-icon icon="search" class="drawer__item__icon"></core-icon>Search</div><template repeat="{{eventStream, i in $.session.data.user.eventStreams}}"><div on-tap="{{onSelectEventStream}}" class="drawer__item {{ { &quot;is-selected&quot;: (!isSearching &amp;&amp; eventStream === selectedEventStream),                         &quot;l-padding-t6&quot;: i == 0 } | tokenList }}"><core-icon icon="{{  eventStream.config.type === &quot;repos&quot; ? &quot;github:repo&quot;                         : eventStream.config.type === &quot;users&quot; ? &quot;github:person&quot;                       : &quot;github:star&quot; }}" class="drawer__item__icon"></core-icon>{{eventStream.name}}</div></template></div></core-header-panel><core-header-panel main="main" mode="{{narrow ? 'waterfall' : 'cover'}}"><div id="content" main="main" fit="fit" class="ticker-app__content l-padding-h2 l-overflow-scroll-ios"><template if="{{selectedEventStream}}"><ticker-github-events-card block="block" events="{{events}}"></ticker-github-events-card><paper-fab on-tap="{{onToggleFavoriteEventStream}}" icon="favorite" class="{{isSelectedEventStreamFavorited ? &quot;c-bg-confirm&quot; : &quot;c-bg-error&quot;}}"></paper-fab></template></div><template if="{{!isSearching}}"><core-toolbar class="{{!narrow &amp;&amp; &quot;medium-tall&quot;}} c-white"><template if="{{narrow}}"><paper-icon-button icon="menu" on-tap="{{onOpenDrawer}}" class="l-margin-l2 l-margin-r0"></paper-icon-button><span flex="flex" class="toolbar__title l-margin-l1 t-font-size-20 t-normal t-truncate">{{selectedEventStream.name}}</span></template></core-toolbar></template><template if="{{isSearching}}"><ticker-search fit="fit" isNarrow="{{narrow}}" on-ticker-search-close="{{onCloseSearch}}" on-ticker-search-select="{{onSearchSelect}}"></ticker-search></template></core-header-panel></core-drawer-panel></template><script>System.import('elements/ticker-app');</script></polymer-element>