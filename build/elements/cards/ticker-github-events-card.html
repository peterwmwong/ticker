<link rel="import" href="../../../bower_components/core-icon/core-icon.html"/><link rel="import" href="../../../bower_components/marked-element/marked-element.html"/><link rel="import" href="./ticker-github-repo.html"/><link rel="import" href="./ticker-github-avatar.html"/><polymer-element attributes="events" name="ticker-github-events-card"><template><template id="CardTitle"><div class="Card-title"><ticker-github-repo flex="flex" repo="[[repo.name]]"></ticker-github-repo><span class="c-gray-dark t-font-size-11">[[created_at | timeAgo]]</span></div></template><template id="PullRequestEvent"><div class="Card"><template ref="CardTitle" bind="[[]]"></template><div class="Card-subject"><core-icon icon="github:git-pull-request" class="[[   payload.pull_request.state === &quot;open&quot; ? &quot;c-warning-light&quot;                        : payload.pull_request.merged           ? &quot;c-confirm-light&quot;                                                                : &quot;c-error-light&quot;   ]]                  l-margin-r3"></core-icon><span flex="flex">[[payload.pull_request.title]]</span></div><div class="Card-action"><ticker-github-avatar avatarUrl="[[actor.avatar_url]]" class="l-margin-r3"></ticker-github-avatar>[[ payload.pull_request.state === "open" ? "opened" : payload.pull_request.merged ? "merged" : "closed" ]]
pull request</div><template if="[[payload.pull_request.body]]"><div class="Card-action l-padding-t0"><marked-element flex="flex" text="[[payload.pull_request.body]]" class="t-word-wrap-break-word"></marked-element></div></template></div></template><template id="ReleaseEvent"><div class="Card"><template ref="CardTitle" bind="[[]]"></template><div class="Card-subject"><core-icon icon="github:versions" class="l-margin-r3"></core-icon>[[payload.release.name]]</div><div class="Card-action"><ticker-github-avatar avatarUrl="[[actor.avatar_url]]" class="l-margin-r3"></ticker-github-avatar>published this release</div></div></template><template id="TeamAddEvent"><div class="Card"><template ref="CardTitle" bind="[[]]"></template><div class="Card-action"><span>[[payload.team.name]]</span>&nbsp;team was added</div></div></template><template id="CreateOrDeleteEvent"><div class="Card"><template ref="CardTitle" bind="[[]]" if="[[payload.ref_type !== &quot;repository&quot;]]"></template><div class="Card-subject [[payload.ref_type === &quot;repository&quot; &amp;&amp; &quot;l-padding-t4 l-padding-b3&quot;]]"><core-icon icon="github:[[payload.ref_type === &quot;repository&quot; ? &quot;repo&quot; : &quot;git-branch&quot;]]" class="[[type === &quot;CreateEvent&quot; ? &quot;c-confirm-light&quot;                                           : &quot;c-error-light&quot;]]                  l-margin-r3"></core-icon><template if="[[payload.ref_type === &quot;repository&quot;]]"><ticker-github-repo repo="[[repo.name]]"></ticker-github-repo></template><template if="[[payload.ref_type !== &quot;repository&quot;]]">[[payload.ref]]</template></div><div class="Card-action"><ticker-github-avatar avatarUrl="[[actor.avatar_url]]" class="l-margin-r3"></ticker-github-avatar>[[ (type === 'CreateEvent' ? 'created' : 'deleted') + ' this ' + payload.ref_type ]]</div></div></template><template id="CreateEvent"><template ref="CreateOrDeleteEvent" bind="[[]]"></template></template><template id="DeleteEvent"><template ref="CreateOrDeleteEvent" bind="[[]]"></template></template><template id="PullRequestReviewCommentEvent"><div class="Card"><template ref="CardTitle" bind="[[]]"></template><div class="Card-subject"><core-icon icon="github:git-pull-request" class="[[payload.pull_request.state === &quot;closed&quot; ? &quot;c-error-light&quot;                                                                : &quot;c-warning-light&quot;]]                  l-margin-r3"></core-icon>[[payload.pull_request.title]]</div><div class="Card-action"><ticker-github-avatar avatarUrl="[[actor.avatar_url]]" class="l-margin-r3"></ticker-github-avatar><marked-element flex="flex" text="[[payload.comment.body]]" class="t-word-wrap-break-word"></marked-element></div></div></template><template id="IssueCommentEvent"><div class="Card"><template ref="CardTitle" bind="[[]]"></template><div class="Card-subject"><core-icon icon="[[payload.issue.pull_request ? &quot;github:git-pull-request&quot;                                              : &quot;github:issue-opened&quot;     ]]" class="[[payload.issue.state === &quot;closed&quot; ? &quot;c-error-light&quot;                                                         : &quot;c-warning-light&quot;]]                  l-margin-r3"></core-icon>[[payload.issue.title]]</div><div class="Card-action"><ticker-github-avatar avatarUrl="[[actor.avatar_url]]" class="l-margin-r3"></ticker-github-avatar>commented on this issue</div><div class="Card-action l-padding-t0"><marked-element flex="flex" text="[[payload.comment.body]]" class="t-word-wrap-break-word"></marked-element></div></div></template><template id="IssuesEvent"><div class="Card"><template ref="CardTitle" bind="[[]]"></template><div class="Card-subject"><core-icon icon="github:issue-[[payload.action]]" class="[[payload.action === &quot;closed&quot; ? &quot;c-error-light&quot;                                                    : &quot;c-warning-light&quot;]]                  l-margin-r3"></core-icon>[[payload.issue.title]]</div><div class="Card-action"><ticker-github-avatar avatarUrl="[[actor.avatar_url]]" class="l-margin-r3"></ticker-github-avatar>[[payload.action]] this issue</div><div class="Card-action l-padding-t0"><marked-element flex="flex" text="[[payload.issue.body]]" class="t-word-wrap-break-word"></marked-element></div></div></template><template id="CommitCommentEvent"><div class="Card"><template ref="CardTitle" bind="[[]]"></template><div class="Card-subject"><core-icon icon="github:git-commit" class="c-confirm-light l-margin-r3"></core-icon>[[payload.comment.commit_id]]</div><div class="Card-action"><ticker-github-avatar avatarUrl="[[actor.avatar_url]]" class="l-margin-r3"></ticker-github-avatar><marked-element flex="flex" text="[[payload.comment.body]]" class="t-word-wrap-break-word"></marked-element></div></div></template><template id="WatchEvent"><div class="Card"><div class="Card-action"><ticker-github-avatar avatarUrl="[[actor.avatar_url]]" class="l-margin-r3"></ticker-github-avatar><core-icon icon="github:star" class="c-gray-lighter l-margin-r3"></core-icon><ticker-github-repo flex="flex" repo="[[repo.name]]" class="c-gray-darker t-truncate"></ticker-github-repo><span class="c-gray-dark t-font-size-11">[[created_at | timeAgo]]</span></div></div></template><template id="ForkEvent"><div class="Card"><div class="Card-action"><ticker-github-avatar avatarUrl="[[actor.avatar_url]]" class="l-margin-r3"></ticker-github-avatar><core-icon icon="github:repo-forked" class="c-gray-lighter l-margin-r3"></core-icon><ticker-github-repo flex="flex" repo="[[repo.name]]" class="c-gray-darker"></ticker-github-repo><span class="c-gray-dark t-font-size-11">[[created_at | timeAgo]]</span></div></div></template><template id="PushEvent"><div class="Card"><template ref="CardTitle" bind="[[]]"></template><div class="Card-subject"><core-icon icon="github:git-branch" class="c-gray-light l-margin-r3"></core-icon>[[payload.ref]]</div><div class="Card-action"><ticker-github-avatar avatarUrl="[[actor.avatar_url]]" class="l-margin-r3"></ticker-github-avatar>pushed [[payload.commits.length]] commits</div><template repeat="[[commit in payload.commits]]"><div on-tap="[[stateFire.selectAppOverlayGithubCommit]]" fire-arg="commit" class="Card-action l-padding-t0"><core-icon icon="github:git-commit" class="c-gray-light l-margin-r3"></core-icon><span flex="flex" class="t-truncate">[[commit.message]]</span></div></template></div></template><template id="GollumEvent"><div class="Card"><template ref="CardTitle" bind="[[]]"></template><div class="Card-subject"><core-icon icon="github:book" class="c-gray-light l-margin-r3"></core-icon>[[payload.pages[0].title]]</div><div class="Card-action"><ticker-github-avatar avatarUrl="[[actor.avatar_url]]" class="l-margin-r3"></ticker-github-avatar>edited this wiki page</div></div></template><template repeat="{{events}}"><template ref="[[type]]" bind="[[]]"></template></template></template><script>System.get('elements/cards/ticker-github-events-card.js');</script></polymer-element>