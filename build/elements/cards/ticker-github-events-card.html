<link rel="import" href="../../iconsets/github.html"/><link rel="import" href="../../../bower_components/core-icon/core-icon.html"/><link rel="import" href="../../../bower_components/marked-element/marked-element.html"/><link rel="import" href="./ticker-github-branch.html"/><link rel="import" href="./ticker-github-repo.html"/><link rel="import" href="./ticker-github-avatar.html"/><script src="../../../bower_components/time-elements/time-elements.js"></script><polymer-element attributes="events" name="ticker-github-events-card"><template><link rel="stylesheet" href="ticker-github-events-card.css"/><template id="Comment"><div flex="flex" class="action__content t-word-wrap-break-word"><marked-element text="[[]]"></marked-element></div></template><template id="EventTimeAgo"><time datetime="[[createdAt]]" format="micro" is="time-ago" class="c-gray-dark t-font-size-11"></time></template><template id="CardTitle"><div class="title"><ticker-github-repo flex="flex" repo="[[repo.name]]"></ticker-github-repo><template ref="EventTimeAgo" bind="[[]]"></template></div></template><template id="PullRequestEvent"><div class="card"><template ref="CardTitle" bind="[[]]"></template><div class="subject"><core-icon icon="github:git-pull-request" class="[[   payload.pullRequest.state === &quot;open&quot; ? &quot;c-warning-light&quot;                        : payload.pullRequest.merged           ? &quot;c-confirm-light&quot;                                                               : &quot;c-error-light&quot;   ]]                  l-margin-r3"></core-icon>[[payload.pullRequest.title]]</div><div class="action"><ticker-github-avatar avatarUrl="[[actor.avatarUrl]]" class="l-margin-r3"></ticker-github-avatar><template ref="Comment" bind="[[payload.pullRequest.body]]"></template></div></div></template><template id="ReleaseEvent"><div class="card"><template ref="CardTitle" bind="[[]]"></template><div class="subject"><core-icon icon="github:versions" class="l-margin-r3"></core-icon>[[payload.release.name]]</div><div class="action"><ticker-github-avatar avatarUrl="[[actor.avatarUrl]]" class="l-margin-r3"></ticker-github-avatar>published this release</div></div></template><template id="TeamAddEvent"><div class="card"><template ref="CardTitle" bind="[[]]"></template><div class="action"><span>[[payload.team.name]]</span>&nbsp;team was added</div></div></template><template id="CreateOrDeleteEvent"><div class="card"><template ref="CardTitle" bind="[[]]" if="[[payload.refType !== &quot;repository&quot;]]"></template><div class="subject [[payload.refType === &quot;repository&quot; &amp;&amp; &quot;l-padding-t4 l-padding-b3&quot;]]"><core-icon icon="github:[[payload.refType === &quot;repository&quot; ? &quot;repo&quot; : &quot;git-branch&quot;]]" class="[[type === &quot;CreateEvent&quot; ? &quot;c-confirm-light&quot;                                           : &quot;c-error-light&quot;]]                  l-margin-r3"></core-icon><template if="[[payload.refType === &quot;repository&quot;]]"><ticker-github-repo repo="[[repo.name]]"></ticker-github-repo></template><template if="[[payload.refType !== &quot;repository&quot;]]">[[payload.ref]]</template></div><div class="action"><ticker-github-avatar avatarUrl="[[actor.avatarUrl]]" class="l-margin-r3"></ticker-github-avatar>[[ (type === 'CreateEvent' ? 'created' : 'deleted') + ' this ' + payload.refType ]]</div></div></template><template id="CreateEvent"><template ref="CreateOrDeleteEvent" bind="[[]]"></template></template><template id="DeleteEvent"><template ref="CreateOrDeleteEvent" bind="[[]]"></template></template><template id="PullRequestReviewCommentEvent"><div class="card"><template ref="CardTitle" bind="[[]]"></template><div class="subject"><core-icon icon="github:git-pull-request" class="[[payload.pullRequest.state === &quot;closed&quot; ? &quot;c-error-light&quot;                                                               : &quot;c-warning-light&quot;]]                  l-margin-r3"></core-icon>[[payload.pullRequest.title]]</div><div class="action"><ticker-github-avatar avatarUrl="[[actor.avatarUrl]]" class="l-margin-r3"></ticker-github-avatar><template ref="Comment" bind="[[payload.comment.body]]"></template></div></div></template><template id="IssueCommentEvent"><div class="card"><template ref="CardTitle" bind="[[]]"></template><div class="subject"><core-icon icon="[[payload.issue.pullRequest ? &quot;github:git-pull-request&quot;                                             : &quot;github:issue-opened&quot;     ]]" class="[[payload.issue.state === &quot;closed&quot; ? &quot;c-error-light&quot;                                                         : &quot;c-warning-light&quot;]]                  l-margin-r3"></core-icon>[[payload.issue.title]]</div><div class="action"><ticker-github-avatar avatarUrl="[[actor.avatarUrl]]" class="l-margin-r3"></ticker-github-avatar><template ref="Comment" bind="[[payload.comment.body]]"></template></div></div></template><template id="IssuesEvent"><div on-tap="[[onOpenIssueDetails]]" class="card"><template ref="CardTitle" bind="[[]]"></template><div class="subject"><core-icon icon="github:issue-[[payload.action]]" class="[[payload.action === &quot;closed&quot; ? &quot;c-error-light&quot;                                                    : &quot;c-warning-light&quot;]]                  l-margin-r3"></core-icon>[[payload.issue.title]]</div><div class="action"><ticker-github-avatar avatarUrl="[[actor.avatarUrl]]" class="l-margin-r3"></ticker-github-avatar><p flex="flex"><span block="block" class="l-margin-b1">[[payload.action]] this issue</span><template ref="Comment" bind="[[payload.issue.body]]"></template></p></div></div></template><template id="CommitCommentEvent"><div class="card"><template ref="CardTitle" bind="[[]]"></template><div class="subject"><core-icon icon="github:git-commit" class="c-confirm-light l-margin-r3"></core-icon>[[payload.comment.commitId]]</div><div class="action"><ticker-github-avatar avatarUrl="[[actor.avatarUrl]]" class="l-margin-r3"></ticker-github-avatar><template ref="Comment" bind="[[payload.comment.body]]"></template></div></div></template><template id="WatchEvent"><div class="card"><div class="action"><ticker-github-avatar avatarUrl="[[actor.avatarUrl]]" class="l-margin-r3"></ticker-github-avatar><core-icon icon="github:star" class="c-gray-lighter l-margin-r3"></core-icon><ticker-github-repo flex="flex" repo="[[repo.name]]" class="c-gray-darker t-truncate"></ticker-github-repo><template ref="EventTimeAgo" bind="[[]]"></template></div></div></template><template id="ForkEvent"><div class="card"><div class="action"><ticker-github-avatar avatarUrl="[[actor.avatarUrl]]" class="l-margin-r3"></ticker-github-avatar><core-icon icon="github:repo-forked" class="c-gray-lighter l-margin-r3"></core-icon><ticker-github-repo flex="flex" repo="[[repo.name]]" class="c-gray-darker"></ticker-github-repo><template ref="EventTimeAgo" bind="[[]]"></template></div></div></template><template id="PushEvent"><div class="card"><template ref="CardTitle" bind="[[]]"></template><div class="subject"><core-icon icon="github:git-branch" class="c-gray-light l-margin-r3"></core-icon><ticker-github-branch branch="[[payload.ref]]"></ticker-github-branch></div><div class="action"><ticker-github-avatar avatarUrl="[[actor.avatarUrl]]" class="l-margin-r3"></ticker-github-avatar><ul flex="flex"><template repeat="[[commit in limitArray(payload.commits, 3)]]"><li horizontal="horizontal" layout="layout" center="center"><core-icon self-start="self-start" icon="github:git-commit" class="c-confirm-light l-margin-r3"></core-icon><span flex="flex" class="t-word-wrap-break-word">[[commit.message]]</span></li></template></ul></div></div></template><template id="GollumEvent"><div class="card"><template ref="CardTitle" bind="[[]]"></template><div class="subject"><core-icon icon="github:book" class="c-gray-light l-margin-r3"></core-icon>[[payload.pages[0].title]]</div><div class="action"><ticker-github-avatar avatarUrl="[[actor.avatarUrl]]" class="l-margin-r3"></ticker-github-avatar>edited this wiki page</div></div></template><template repeat="{{events}}"><template ref="[[type]]" bind="[[]]"></template></template></template><script>System.import('elements/cards/ticker-github-events-card');</script></polymer-element>