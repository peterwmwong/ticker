<link rel="import" href="../../iconsets/github.html"/><link rel="import" href="../../../bower_components/core-icon/core-icon.html"/><link rel="import" href="../../../bower_components/marked-element/marked-element.html"/><link rel="import" href="../ticker-card.html"/><link rel="import" href="./ticker-github-branch.html"/><link rel="import" href="./ticker-github-repo.html"/><link rel="import" href="./ticker-github-avatar.html"/><script src="../../../bower_components/time-elements/time-elements.js"></script><polymer-element attributes="events" name="ticker-github-events-card"><template><link rel="stylesheet" href="ticker-github-events-card.css"/><template id="Comment"><div flex="flex" class="action__content t-normal t-word-wrap-break-word"><marked-element text="[[]]"></marked-element></div></template><template id="EventTimeAgo"><time datetime="[[createdAt]]" format="micro" is="time-ago" class="c-gray-dark t-font-size-11"></time></template><template id="CardTitle"><div class="title t-font-size-16 l-padding-2 l-padding-t3"><ticker-github-repo flex="flex" repo="[[repo.name]]"></ticker-github-repo><template ref="EventTimeAgo" bind="[[]]"></template></div></template><template id="PullRequestEvent"><template ref="CardTitle" bind="[[]]"></template><div class="subject"><core-icon icon="github:git-pull-request" class="[[   payload.pullRequest.state === &quot;open&quot; ? &quot;c-warning-light&quot;                      : payload.pullRequest.merged           ? &quot;c-confirm-light&quot;                                                             : &quot;c-error-light&quot;   ]]                l-margin-r2"></core-icon><span flex="flex" class="t-normal">[[payload.pullRequest.title]]</span></div><div class="action"><ticker-github-avatar userid="[[actor.id]]" class="l-margin-r2"></ticker-github-avatar><template ref="Comment" bind="[[payload.pullRequest.body]]"></template></div></template><template id="CreateOrDeleteEvent"><template if="[[payload.refType !== &quot;repository&quot;]]"><template ref="CardTitle" bind="[[]]"></template></template><div class="subject"><core-icon icon="github:[[payload.refType === &quot;repository&quot; ? &quot;repo&quot; : &quot;git-branch&quot;]]" class="[[type === &quot;CreateEvent&quot; ? &quot;c-confirm-light&quot;                                         : &quot;c-error-light&quot;]]                l-margin-r2"></core-icon><template if="[[payload.refType === &quot;repository&quot;]]"><ticker-github-repo repo="[[repo.name]]"></ticker-github-repo></template><template if="[[payload.refType !== &quot;repository&quot;]]"><span flex="flex" class="t-normal">[[payload.ref]]</span></template></div><div class="action"><ticker-github-avatar userid="[[actor.id]]" class="l-margin-r2"></ticker-github-avatar>{{ (type == 'CreateEvent') ? 'created' : 'deleted' }}
this [[ payload.refType ]]</div></template><template id="CreateEvent"><template ref="CreateOrDeleteEvent" bind="[[]]"></template></template><template id="DeleteEvent"><template ref="CreateOrDeleteEvent" bind="[[]]"></template></template><template id="PullRequestReviewCommentEvent"><template ref="CardTitle" bind="[[]]"></template><div class="subject"><core-icon icon="github:git-pull-request" class="[[payload.pullRequest.state === &quot;closed&quot; ? &quot;c-error-light&quot;                                                             : &quot;c-warning-light&quot;]]                l-margin-r2"></core-icon><span flex="flex" class="t-normal">[[payload.pullRequest.title]]</span></div><div class="action"><ticker-github-avatar userid="[[actor.id]]" class="l-margin-r2"></ticker-github-avatar><template ref="Comment" bind="[[payload.comment.body]]"></template></div></template><template id="IssueCommentEvent"><template ref="CardTitle" bind="[[]]"></template><div class="subject"><core-icon icon="[[payload.issue.pullRequest ? &quot;github:git-pull-request&quot;                                           : &quot;github:issue-opened&quot;     ]]" class="[[payload.issue.state === &quot;closed&quot; ? &quot;c-error-light&quot;                                                       : &quot;c-warning-light&quot;]]                l-margin-r2"></core-icon><span flex="flex" class="t-normal">[[payload.issue.title]]</span></div><div class="action"><ticker-github-avatar userid="[[actor.id]]" class="l-margin-r2"></ticker-github-avatar><template ref="Comment" bind="[[payload.comment.body]]"></template></div></template><template id="IssuesEvent"><template ref="CardTitle" bind="[[]]"></template><div class="subject"><core-icon icon="github:issue-[[payload.action]]" class="[[payload.action === &quot;closed&quot; ? &quot;c-error-light&quot;                                                 : &quot;c-warning-light&quot;]]                l-margin-r2"></core-icon><span flex="flex" class="t-normal t-word-wrap-break-word">[[payload.issue.title]]</span></div><div class="action"><ticker-github-avatar userid="[[actor.id]]" class="l-margin-r2"></ticker-github-avatar><p flex="flex"><span block="block" class="l-margin-b1">[[payload.action]] this issue</span><template ref="Comment" bind="[[payload.issue.body]]"></template></p></div></template><template id="CommitCommentEvent"><template ref="CardTitle" bind="[[]]"></template><div class="subject"><core-icon icon="github:git-commit" class="c-confirm-light l-margin-r2"></core-icon><span flex="flex" class="t-normal t-word-wrap-break-word t-truncate">[[payload.comment.commitId]]</span></div><div class="action"><ticker-github-avatar userid="[[actor.id]]" class="l-margin-r2"></ticker-github-avatar><template ref="Comment" bind="[[payload.comment.body]]"></template></div></template><template id="WatchEvent"><div class="action l-padding-t2"><ticker-github-avatar userid="[[actor.id]]" class="l-margin-r2"></ticker-github-avatar><core-icon icon="github:star" class="c-gray-lighter l-margin-r2"></core-icon><ticker-github-repo flex="flex" repo="[[repo.name]]" class="c-gray-dark t-truncate"></ticker-github-repo><template ref="EventTimeAgo" bind="[[]]"></template></div></template><template id="ForkEvent"><div class="action l-padding-t2"><ticker-github-avatar userid="[[actor.id]]" class="l-margin-r2"></ticker-github-avatar><core-icon icon="github:repo-forked" class="c-gray-lighter l-margin-r2"></core-icon><ticker-github-repo flex="flex" repo="[[repo.name]]" class="c-gray-dark"></ticker-github-repo><template ref="EventTimeAgo" bind="[[]]"></template></div></template><template id="PushEvent"><template ref="CardTitle" bind="[[]]"></template><div class="subject"><core-icon icon="github:git-branch" class="c-gray-light l-margin-r2"></core-icon><ticker-github-branch branch="[[payload.ref]]"></ticker-github-branch></div><div class="action"><ticker-github-avatar userid="[[actor.id]]" class="l-margin-r2"></ticker-github-avatar><ul flex="flex" class="action__content"><template repeat="[[commit in limitArray(payload.commits, 3)]]"><li horizontal="horizontal" layout="layout"><core-icon icon="github:git-commit" class="c-confirm-light l-margin-r2"></core-icon><span flex="flex" class="t-normal t-word-wrap-break-word">[[commit.message]]</span></li></template></ul></div></template><template id="GollumEvent"><template ref="CardTitle" bind="[[]]"></template><div class="action l-padding-t1"><ticker-github-avatar userid="[[actor.id]]" class="l-margin-r2"></ticker-github-avatar><core-icon icon="github:book" class="c-confirm l-margin-r2"></core-icon><span class="t-normal">[[payload.pages[0].title]]</span></div></template><template repeat="{{data in events}}"><div class="card l-margin-b1"><template ref="[[data.type]]" bind="[[data]]"></template></div></template></template><script>System.import('elements/cards/ticker-github-events-card');</script></polymer-element>