<link rel='import' href='../components/iron-icon/iron-icon.html'>
<link rel='import' href='../components/paper-header-panel/paper-header-panel.html'>
<link rel='import' href='../components/paper-toolbar/paper-toolbar.html'>
<link rel='import' href='../components/paper-ripple/paper-ripple.html'>

<dom-module id='ticker-stream'>
  <style>
    .drawer-button {
      width: 56px;
      height: 56px;
      line-height: 53px;
      border-radius: 50%;
      position: relative;
      cursor: pointer;
      text-align: center;
    }
  </style>
  <template>
    <paper-header-panel class='fit'>

      <paper-toolbar>
        <div class='drawer-button' on-click='emitToggleDrawerEvent'>
          <paper-ripple></paper-ripple>
          <iron-icon icon='ticker:menu'></iron-icon>
        </div>
        <span class='flex'>Toolbar</span>
      </paper-toolbar>

      <div class='fit l-padding-t2 l-padding-h1' style='transform:translateZ(0);-webkit-transform:translateZ(0);'>
        <template is='x-repeat' items='[[items]]'>
          <div class='Card relative'>
            <div class='Card-title'>Hello</div>
            <paper-ripple></paper-ripple>
          </div>
        </template>
      </div>

    </paper-header-panel>
  </template>
</dom-module>
<script>
Polymer({
  is: 'ticker-stream',
  properties:{
    items:{
      type: Array,
      value: Array.apply([], new Array(4)).map(function(a,i){ return i; })
    }
  },

  emitToggleDrawerEvent: function(e){
    // TODO(pwong): this is to prevent the <iron-selector>'s (in <paper-drawer-panel>)
    //              click handler from reseting/undoing a drawer change made in
    //              <ticker-app>.onToggleDrawer()
    e.stopPropagation();
    this.fire('ticker-app--toggle-drawer', null, null, false, true);
  }
});
</script>
