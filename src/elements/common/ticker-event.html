<link rel='import' href='ticker-event-summary.html'>
<link rel='import' href='ticker-repo-name.html'>

<dom-module id='ticker-event-templates'>

  <template is='x-template' id='IssuesEvent,PullRequestEvent'>
    <ticker-event-summary
      class='Card-action'
      actor='[[event.actor]]'
      action='[[event.payload.action]]'
      subject-icon='[[issuePRIcon(event)]]'
      subject='[[issuePRSubject(event)]]'></ticker-event-summary>
  </template>

  <template is='x-template' id='ReleaseEvent'>
    <ticker-event-summary
      class='Card-action'
      actor='[[event.actor]]'
      action='published a release'
      subject-icon='github:versions'
      subject='[[releaseSubject(event)]]'></ticker-event-summary>
  </template>

  <template is='x-template' id='TeamAddEvent'>
    <div class='Card-action'>
      <span>[[event.payload.team.name]]</span>
      &nbsp;team was added
    </div>
  </template>

  <template is='x-template' id='CreateEvent,DeleteEvent'>
    <ticker-event-summary
      class='Card-action'
      actor='[[event.actor]]'
      action='[[createDeleteAction(event)]]'
      subject-icon='[[createDeleteIcon(event)]]'
      subject='[[createDeleteSubject(event)]]'></ticker-event-summary>
  </template>

  <template is='x-template' id='IssueCommentEvent,PullRequestReviewCommentEvent'>
    <ticker-event-summary
      class='Card-action'
      actor='[[event.actor]]'
      action='commented on'
      subject-icon='[[issuePRIcon(event)]]'
      subject='[[issuePRSubject(event)]]'></ticker-event-summary>

    <div class='Card-action Card-action--secondary'>
      <iron-icon icon='github:quote' class='c-gray-light self-start'></iron-icon>
      <span class='flex l-padding-l1'>[[event.payload.comment.body]]</span>
    </div>
  </template>

  <template is='x-template' id='CommitCommentEvent'>
    <ticker-event-summary
      class='Card-action'
      actor='[[event.actor]]'
      action='commented on'
      subject-icon='github:git-commit'
      subject='[[event.payload.comment.commit_id]]'></ticker-event-summary>
    <div class='Card-action Card-action--secondary'>
      <iron-icon icon='github:quote' class='c-gray-light self-start'></iron-icon>
      <span class='flex l-padding-l1'>[[event.payload.comment.body]]</span>
    </div>
  </template>

  <!-- <template is='x-template' id='WatchEvent'></template> -->
  <!-- <template is='x-template' id='ForkEvent'></template> -->

  <template is='x-template' id='PushEvent'>
    <ticker-event-summary
      class='Card-action'
      actor='[[event.actor]]'
      action='[[pushAction(event)]]'
      subject-icon='github:git-branch'
      subject='[[pushSubject(event)]]'></ticker-event-summary>

    <div>
      <template is='x-repeat' items='[[event.payload.commits]]'>
        <div class='Card-action Card-action--secondary'>
          <iron-icon icon='github:git-commit' class='c-gray-light'></iron-icon>
          <span class='flex l-padding-l1 t-truncate'>[[item.message]]</span>
        </div>
      </template>
    </div>
  </template>

</dom-module>

<dom-module id='ticker-event'>
  <template>
    <div class='Card-title'>
      <ticker-repo-name repo-name='[[event.repo.name]]' class='flex'></ticker-repo-name>
      <span class='c-gray-dark t-font-size-11'>[[event.timeAgo]]</span>
    </div>
  </template>
</dom-module>
<script src='ticker-event.js'></script>
