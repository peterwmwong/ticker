link(rel='import' href='../../bower_components/core-scroll-header-panel/core-scroll-header-panel.html')
link(rel='import' href='../../bower_components/core-toolbar/core-toolbar.html')
link(rel='import' href='../../bower_components/paper-fab/paper-fab.html')
link(rel='import' href='../../bower_components/paper-icon-button/paper-icon-button.html')
link(rel='import' href='./cards/ticker-github-events-card.html')

+polymer-element(attributes='isNarrow')
  core-scroll-header-panel(fit)
    .content(
      layout vertical center
      class='l-padding-h2 l-padding-t2')
      template(if='{{state.source.events.length}}')
        ticker-github-events-card(
          class='l-display-block'
          events='{{state.source.events}}'
          style='max-width: 640px; width: 100%')
          
        paper-fab(
          on-tap='[[stateFire.toggleFavoriteSource]]'
          icon="favorite"
          class='{{state.isSourceFavorited ? "c-bg-confirm" : "c-bg-error"}} \
                 {{isNarrow && "is-on-bottom"}} \
                 c-white')
          
    core-toolbar(class='c-white')
      paper-icon-button(
        class='l-margin-l2 l-margin-r0'
        icon='menu'
        on-tap='{{stateFire.toggleAppDrawer}}')
        
      span#titleText(flex class='l-margin-l1 t-font-size-20 t-normal')
        | {{state.source.name}}
        
