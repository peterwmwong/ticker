<link rel='import' href='../../components/paper-button/paper-button.html'>
<link rel='import' href='../../components/paper-item/paper-item.html'>

<style>
ticker-search {
  z-index: 2;
  padding: 4px;
  background: rgba(0, 0, 0, 0.6);
}
.ticker-search__input {
  outline: none;
  border: none;
  background: transparent;
}
</style>
<dom-module id='ticker-search'>
  <template>
    <div class='c-bg-white l-overflow-hidden u-border-radius-2'>
      <div class='layout horizontal u-border-1 c-border-gray-lighter'>
        <paper-button style='min-width:48px' on-tap='_onCloseSearch'>
          <iron-icon icon='ticker:arrow-back'></iron-icon>
        </paper-button>
        <input id='searchInput'
               class='l-padding-l1 ticker-search__input flex t-font-size-16'
               placeholder='Search Github Repo, User or Organization'
               on-input='_onSearchTextInput'/>
      </div>
      <template is='x-repeat' items='[[searchResults]]'>
        <paper-icon-item class='c-gray-darkest l-padding-r0' icon-width='32px'>
          <ticker-avatar item-icon source='[[item]]'></ticker-avatar>

          <paper-item-body two-line
                           class='l-margin-l6 u-border-b1 c-border-gray-lighter'>
            <span>[[item.login]]</span>
            <ticker-repo-name repo-name='[[item.full_name]]'
                              hidden='[[!item.full_name]]'></ticker-repo-name>
            <div secondary class='c-gray-dark l-padding-r4'>[[item.description]]</div>
          </paper-item-body>
        </paper-icon-item>
      </template>
    </div>
  </template>
</dom-module>
<script src='ticker-search.js'></script>
